<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AE SafeReport</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
  <style>
    body {
      background-color: #0f0f0f;
      color: #f3f3f3;
      font-family: 'Segoe UI', sans-serif;
    }
  </style>
</head>
<body class="flex items-center justify-center min-h-screen">
  <div class="bg-gray-900 p-6 rounded-xl shadow-xl w-full max-w-xl">
    <h1 class="text-2xl font-bold mb-4 text-center text-red-500">üõ°Ô∏è AE SafeReport</h1>

    <!-- Language selector -->
    <div class="mb-4 text-center">
      <label for="lang" class="mr-2">üåê Language:</label>
      <select id="lang" class="rounded bg-gray-800 text-white p-1">
        <option value="en" selected>English</option>
        <option value="es">Espa√±ol</option>
        <option value="zh">‰∏≠Êñá (Mandarin)</option>
        <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä (Hindi)</option>
        <option value="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ© (Arabic)</option>
      </select>
    </div>

    <p id="intro" class="mb-6 text-sm text-gray-300 text-center">
      Submit an extortion or threat report securely and anonymously. Our team will review it and take action within our limits. <strong>This system is not law enforcement.</strong>
    </p>

    <form id="reportForm" class="space-y-4" enctype="multipart/form-data">
      <input type="password" name="accessKey" placeholder="Access Password" required class="w-full p-2 rounded bg-gray-800 text-white" />
      <input type="text" name="reporter" placeholder="Your Discord Username (e.g., SkbidiToilet#1234)" required class="w-full p-2 rounded bg-gray-800 text-white" />
      <input type="text" name="victim" placeholder="Victim's Username (if different)" class="w-full p-2 rounded bg-gray-800 text-white" />
      <input type="text" name="suspect" placeholder="Suspect Username or ID (if known)" class="w-full p-2 rounded bg-gray-800 text-white" />
      <textarea name="description" placeholder="What happened? Please describe in detail." required class="w-full p-2 rounded bg-gray-800 text-white h-28"></textarea>
      <input type="url" name="evidence" placeholder="Link to evidence (e.g., Imgur, Discord CDN)" required class="w-full p-2 rounded bg-gray-800 text-white" />

      <!-- File upload input -->
      <label class="block text-gray-400">
        Upload evidence file (optional):
        <input type="file" name="file" accept="image/*,video/*" class="mt-1 w-full text-gray-200 bg-gray-800 p-2 rounded" />
      </label>

      <label class="text-sm text-gray-400">
        <input type="checkbox" required id="consentCheckbox" />
        <span id="consentText">I consent to this data being reviewed by AE volunteers and understand this is not an official legal authority.</span>
      </label>

      <div class="g-recaptcha" data-sitekey="6LcCIoMrAAAAAB7qyBiqH2NiGfzYKFnj01AGd2sy"></div>

      <button type="submit" class="w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 rounded">
        Submit Report
      </button>
    </form>

    <p id="statusMsg" class="mt-4 text-center text-green-400 hidden">‚úÖ Report submitted. Thank you for helping the community.</p>

    <p class="mt-4 text-center">
      <a href="privacy.html" class="text-blue-400 underline">Privacy Policy</a>
    </p>
  </div>

  <script>
    const translations = {
      en: {
        intro: "Submit an extortion or threat report securely and anonymously. Our team will review it and take action within our limits. This system is not law enforcement.",
        accessKey: "Access Password",
        reporter: "Your Discord Username (e.g., SkbidiToilet#1234)",
        victim: "Victim's Username (if different)",
        suspect: "Suspect Username or ID (if known)",
        description: "What happened? Please describe in detail.",
        evidence: "Link to evidence (e.g., Imgur, Discord CDN)",
        consent: "I consent to this data being reviewed by AE volunteers and understand this is not an official legal authority.",
        submit: "Submit Report",
        privacyPolicy: "Privacy Policy"
      },
      es: {
        intro: "Env√≠e un informe de extorsi√≥n o amenaza de forma segura y an√≥nima. Nuestro equipo lo revisar√° y tomar√° medidas dentro de nuestros l√≠mites. Este sistema no es una autoridad legal.",
        accessKey: "Contrase√±a de acceso",
        reporter: "Su nombre de usuario de Discord (ejemplo: SkbidiToilet#1234)",
        victim: "Nombre de usuario de la v√≠ctima (si es diferente)",
        suspect: "Nombre de usuario o ID del sospechoso (si se conoce)",
        description: "¬øQu√© pas√≥? Por favor describa en detalle.",
        evidence: "Enlace a la evidencia (por ejemplo, Imgur, Discord CDN)",
        consent: "Consiento que estos datos sean revisados por voluntarios de AE y entiendo que esto no es una autoridad legal oficial.",
        submit: "Enviar informe",
        privacyPolicy: "Pol√≠tica de privacidad"
      },
      zh: {
        intro: "ÂÆâÂÖ®‰∏îÂåøÂêçÂú∞Êèê‰∫§ÂãíÁ¥¢ÊàñÂ®ÅËÉÅÊä•Âëä„ÄÇÊàë‰ª¨ÁöÑÂõ¢ÈòüÂ∞ÜÂú®ÊùÉÈôêËåÉÂõ¥ÂÜÖÂÆ°Ê†∏Âπ∂ÈááÂèñË°åÂä®„ÄÇÊ≠§Á≥ªÁªü‰∏çÊòØÊâßÊ≥ïÊú∫ÂÖ≥„ÄÇ",
        accessKey: "ËÆøÈóÆÂØÜÁ†Å",
        reporter: "ÊÇ®ÁöÑDiscordÁî®Êà∑ÂêçÔºà‰æãÂ¶ÇSkbidiToilet#1234Ôºâ",
        victim: "ÂèóÂÆ≥ËÄÖÁî®Êà∑ÂêçÔºàÂ¶ÇÊûú‰∏çÂêåÔºâ",
        suspect: "Â´åÁñë‰∫∫Áî®Êà∑ÂêçÊàñIDÔºàÂ¶ÇÊûúÂ∑≤Áü•Ôºâ",
        description: "ÂèëÁîü‰∫Ü‰ªÄ‰πàÔºüËØ∑ËØ¶ÁªÜÊèèËø∞„ÄÇ",
        evidence: "ËØÅÊçÆÈìæÊé•Ôºà‰æãÂ¶ÇImgurÔºåDiscord CDNÔºâ",
        consent: "ÊàëÂêåÊÑèAEÂøóÊÑøËÄÖÂÆ°Êü•Ëøô‰∫õÊï∞ÊçÆÔºåÂπ∂ÁêÜËß£Ëøô‰∏çÊòØÂÆòÊñπÊ≥ïÂæãÊú∫ÊûÑ„ÄÇ",
        submit: "Êèê‰∫§Êä•Âëä",
        privacyPolicy: "ÈöêÁßÅÊîøÁ≠ñ"
      },
      hi: {
        intro: "‡§∏‡•Å‡§∞‡§ï‡•ç‡§∑‡§ø‡§§ ‡§î‡§∞ ‡§ó‡•Å‡§Æ‡§®‡§æ‡§Æ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§¨‡•ç‡§≤‡•à‡§ï‡§Æ‡•á‡§≤ ‡§Ø‡§æ ‡§ß‡§Æ‡§ï‡•Ä ‡§ï‡•Ä ‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§ú‡§Æ‡§æ ‡§ï‡§∞‡•á‡§Ç‡•§ ‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§ü‡•Ä‡§Æ ‡§á‡§∏‡•á ‡§∏‡§Æ‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§ï‡§∞‡•á‡§ó‡•Ä ‡§î‡§∞ ‡§π‡§Æ‡§æ‡§∞‡•á ‡§¶‡§æ‡§Ø‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§ï‡§æ‡§∞‡•ç‡§∞‡§µ‡§æ‡§à ‡§ï‡§∞‡•á‡§ó‡•Ä‡•§ ‡§Ø‡§π ‡§∏‡§ø‡§∏‡•ç‡§ü‡§Æ ‡§ï‡§æ‡§®‡•Ç‡§® ‡§™‡•ç‡§∞‡§µ‡§∞‡•ç‡§§‡§® ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§",
        accessKey: "‡§™‡§π‡•Å‡§Ç‡§ö ‡§™‡§æ‡§∏‡§µ‡§∞‡•ç‡§°",
        reporter: "‡§Ü‡§™‡§ï‡§æ ‡§°‡§ø‡§∏‡•ç‡§ï‡•â‡§∞‡•ç‡§° ‡§Ø‡•Ç‡§ú‡§∞‡§®‡•á‡§Æ (‡§ú‡•à‡§∏‡•á SkbidiToilet#1234)",
        victim: "‡§™‡•Ä‡§°‡§º‡§ø‡§§ ‡§ï‡§æ ‡§Ø‡•Ç‡§ú‡§∞‡§®‡•á‡§Æ (‡§Ø‡§¶‡§ø ‡§Ö‡§≤‡§ó ‡§π‡•ã)",
        suspect: "‡§∏‡§Ç‡§¶‡§ø‡§ó‡•ç‡§ß ‡§ï‡§æ ‡§Ø‡•Ç‡§ú‡§∞‡§®‡•á‡§Æ ‡§Ø‡§æ ‡§Ü‡§à‡§°‡•Ä (‡§Ø‡§¶‡§ø ‡§ú‡•ç‡§û‡§æ‡§§ ‡§π‡•ã)",
        description: "‡§ï‡•ç‡§Ø‡§æ ‡§π‡•Å‡§Ü? ‡§ï‡•É‡§™‡§Ø‡§æ ‡§µ‡§ø‡§∏‡•ç‡§§‡§æ‡§∞ ‡§∏‡•á ‡§¨‡§§‡§æ‡§è‡§Ç‡•§",
        evidence: "‡§∏‡§æ‡§ï‡•ç‡§∑‡•ç‡§Ø ‡§ï‡§æ ‡§≤‡§ø‡§Ç‡§ï (‡§ú‡•à‡§∏‡•á Imgur, Discord CDN)",
        consent: "‡§Æ‡•à‡§Ç ‡§∏‡§π‡§Æ‡§§ ‡§π‡•Ç‡§Ç ‡§ï‡§ø AE ‡§∏‡•ç‡§µ‡§Ø‡§Ç‡§∏‡•á‡§µ‡§ï ‡§á‡§∏ ‡§°‡•á‡§ü‡§æ ‡§ï‡•Ä ‡§∏‡§Æ‡•Ä‡§ï‡•ç‡§∑‡§æ ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á ‡§î‡§∞ ‡§∏‡§Æ‡§ù‡§§‡§æ ‡§π‡•Ç‡§Ç ‡§ï‡§ø ‡§Ø‡§π ‡§ï‡•ã‡§à ‡§Ü‡§ß‡§ø‡§ï‡§æ‡§∞‡§ø‡§ï ‡§ï‡§æ‡§®‡•Ç‡§®‡•Ä ‡§™‡•ç‡§∞‡§æ‡§ß‡§ø‡§ï‡§∞‡§£ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§",
        submit: "‡§∞‡§ø‡§™‡•ã‡§∞‡•ç‡§ü ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ï‡§∞‡•á‡§Ç",
        privacyPolicy: "‡§ó‡•ã‡§™‡§®‡•Ä‡§Ø‡§§‡§æ ‡§®‡•Ä‡§§‡§ø"
      },
      ar: {
        intro: "ŸÇŸÖ ÿ®ÿ™ŸÇÿØŸäŸÖ ÿ™ŸÇÿ±Ÿäÿ± ÿßÿ®ÿ™ÿ≤ÿßÿ≤ ÿ£Ÿà ÿ™ŸáÿØŸäÿØ ÿ®ÿ¥ŸÉŸÑ ÿ¢ŸÖŸÜ ŸàŸÖÿ¨ŸáŸàŸÑ. ÿ≥ŸäŸÇŸàŸÖ ŸÅÿ±ŸäŸÇŸÜÿß ÿ®ŸÖÿ±ÿßÿ¨ÿπÿ™Ÿá Ÿàÿßÿ™ÿÆÿßÿ∞ ÿßŸÑÿ•ÿ¨ÿ±ÿßÿ°ÿßÿ™ ÿ∂ŸÖŸÜ ÿ≠ÿØŸàÿØŸÜÿß. Ÿáÿ∞ÿß ÿßŸÑŸÜÿ∏ÿßŸÖ ŸÑŸäÿ≥ ÿ¨Ÿáÿ© ÿ™ŸÜŸÅŸäÿ∞ ÿßŸÑŸÇÿßŸÜŸàŸÜ.",
        accessKey: "ŸÉŸÑŸÖÿ© ŸÖÿ±Ÿàÿ± ÿßŸÑÿØÿÆŸàŸÑ",
        reporter: "ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿÆÿßÿµ ÿ®ŸÉ ŸÅŸä ÿØŸäÿ≥ŸÉŸàÿ±ÿØ (ŸÖÿ´ÿßŸÑ: SkbidiToilet#1234)",
        victim: "ÿßÿ≥ŸÖ ŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑÿ∂ÿ≠Ÿäÿ© (ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸÖÿÆÿ™ŸÑŸÅŸãÿß)",
        suspect: "ÿßÿ≥ŸÖ ŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿ£Ÿà ŸÖÿπÿ±ŸÅ ÿßŸÑŸÖÿ¥ÿ™ÿ®Ÿá ÿ®Ÿá (ÿ•ÿ∞ÿß ŸÉÿßŸÜ ŸÖÿπÿ±ŸàŸÅŸãÿß)",
        description: "ŸÖÿßÿ∞ÿß ÿ≠ÿØÿ´ÿü Ÿäÿ±ÿ¨Ÿâ ÿßŸÑŸàÿµŸÅ ÿ®ÿßŸÑÿ™ŸÅÿµŸäŸÑ.",
        evidence: "ÿ±ÿßÿ®ÿ∑ ÿßŸÑÿØŸÑŸäŸÑ (ŸÖÿ´ŸÑ Imgurÿå Discord CDN)",
        consent: "ÿ£ŸàÿßŸÅŸÇ ÿπŸÑŸâ ŸÖÿ±ÿßÿ¨ÿπÿ© Ÿáÿ∞Ÿá ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™ ŸÖŸÜ ŸÇÿ®ŸÑ ŸÖÿ™ÿ∑ŸàÿπŸä AE Ÿàÿ£ŸÅŸáŸÖ ÿ£ŸÜ Ÿáÿ∞ÿß ŸÑŸäÿ≥ ÿ≥ŸÑÿ∑ÿ© ŸÇÿßŸÜŸàŸÜŸäÿ© ÿ±ÿ≥ŸÖŸäÿ©.",
        submit: "ÿ•ÿ±ÿ≥ÿßŸÑ ÿßŸÑÿ™ŸÇÿ±Ÿäÿ±",
        privacyPolicy: "ÿ≥Ÿäÿßÿ≥ÿ© ÿßŸÑÿÆÿµŸàÿµŸäÿ©"
      }
    };

    const langSelector = document.getElementById('lang');
    const intro = document.getElementById('intro');
    const form = document.getElementById('reportForm');
    const consentCheckbox = document.getElementById('consentCheckbox');
    const consentText = document.getElementById('consentText');
    const statusMsg = document.getElementById('statusMsg');

    function updateLanguage(lang) {
      const t = translations[lang];
      intro.textContent = t.intro;

      form.accessKey.placeholder = t.accessKey;
      form.reporter.placeholder = t.reporter;
      form.victim.placeholder = t.victim;
      form.suspect.placeholder = t.suspect;
      form.description.placeholder = t.description;
      form.evidence.placeholder = t.evidence;

      consentText.textContent = t.consent;
      form.querySelector('button[type="submit"]').textContent = t.submit;
      document.querySelector('a[href="privacy.html"]').textContent = t.privacyPolicy;

      // Adjust status message template if needed
      statusMsg.textContent = "‚úÖ Report submitted. Thank you for helping the community.";
    }

    langSelector.addEventListener('change', e => {
      updateLanguage(e.target.value);
    });

    // Initialize with default language
    updateLanguage('en');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      if (!grecaptcha.getResponse()) {
        alert('Please complete the CAPTCHA.');
        return;
      }

      const formData = new FormData(form);
      formData.append('recaptcha', grecaptcha.getResponse());

      try {
        const res = await fetch('/submit', {
          method: 'POST',
          body: formData
        });

        if (!res.ok) throw new Error(await res.text());

        form.reset();
        statusMsg.classList.remove('hidden');
        grecaptcha.reset();
      } catch (err) {
        alert('‚ùå Failed to submit report: ' + err.message);
      }
    });
  </script>
</body>
</html>
